(function(){function p(h){for(var g=h.length;g--;){typeof h[g]==="number"&&(h[g]=Math.round(h[g])-0.5)}return h}var l=Highcharts,o=l.Chart,m=l.addEvent,d=l.removeEvent,b=l.createElement,w=l.discardElement,E=l.css,F=l.merge,i=l.each,f=l.extend,c=Math.max,j=document,a=window,e=j.documentElement.ontouchstart!==void 0,q=l.getOptions();f(q.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"});q.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:"none",color:"#303030",fontSize:e?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[0.4,"#F7F7F7"],[0.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}};q.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}};f(o.prototype,{getSVG:function(h){var g=this,s,r,n,k=F(g.options,h);if(!j.createElementNS){j.createElementNS=function(u,t){return j.createElement(t)}}h=b("div",null,{position:"absolute",top:"-9999em",width:g.chartWidth+"px",height:g.chartHeight+"px"},j.body);f(k.chart,{renderTo:h,forExport:!0});k.exporting.enabled=!1;k.chart.plotBackgroundImage=null;k.series=[];i(g.series,function(t){n=F(t.options,{animation:!1,showCheckbox:!1,visible:t.visible});if(!n.isInternal){if(n&&n.marker&&/^url\(/.test(n.marker.symbol)){n.marker.symbol="circle"}k.series.push(n)}});s=new Highcharts.Chart(k);i(["xAxis","yAxis"],function(t){i(g[t],function(u,z){var y=s[t][z],x=u.getExtremes(),v=x.userMin,x=x.userMax;(v!==void 0||x!==void 0)&&y.setExtremes(v,x,!0,!1)})});r=s.container.innerHTML;k=null;s.destroy();w(h);r=r.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g,"Â ").replace(/&shy;/g,"").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()});r=r.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'");r.match(/ xmlns="/g).length===2&&(r=r.replace(/xmlns="[^"]+"/,""));return r},exportChart:function(h,g){var n,k=this.getSVG(F(this.options.exporting.chartOptions,g)),h=F(this.options.exporting,h);n=b("form",{method:"post",action:h.url,enctype:"multipart/form-data"},{display:"none"},j.body);i(["filename","type","width","svg"],function(r){b("input",{type:"hidden",name:r,value:{filename:h.filename||"chart",type:h.type,width:h.width,svg:k}[r]},null,n)});n.submit();w(n)},print:function(){var h=this,g=h.container,s=[],r=g.parentNode,n=j.body,k=n.childNodes;if(!h.isPrinting){h.isPrinting=!0,i(k,function(u,t){if(u.nodeType===1){s[t]=u.style.display,u.style.display="none"}}),n.appendChild(g),a.print(),setTimeout(function(){r.appendChild(g);i(k,function(u,t){if(u.nodeType===1){u.style.display=s[t]}});h.isPrinting=!1},1000)}},contextMenu:function(G,D,C,B,A,z){var v=this,y=v.options.navigation,x=y.menuItemStyle,r=v.chartWidth,n=v.chartHeight,k="cache-"+G,u=v[k],t=c(A,z),s,H;if(!u){v[k]=u=b("div",{className:"highcharts-"+G},{position:"absolute",zIndex:1000,padding:t+"px"},v.container),s=b("div",null,f({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},y.menuStyle),u),H=function(){E(u,{display:"none"})},m(u,"mouseleave",H),i(D,function(h){if(h){var g=b("div",{onmouseover:function(){E(this,y.menuItemHoverStyle)},onmouseout:function(){E(this,x)},innerHTML:h.text||v.options.lang[h.textKey]},f({cursor:"pointer"},x),s);g[e?"ontouchstart":"onclick"]=function(){H();h.onclick.apply(v,arguments)};v.exportDivElements.push(g)}}),v.exportDivElements.push(s,u),v.exportMenuWidth=u.offsetWidth,v.exportMenuHeight=u.offsetHeight}G={display:"block"};C+v.exportMenuWidth>r?G.right=r-C-A-t+"px":G.left=C-t+"px";B+z+v.exportMenuHeight>n?G.bottom=n-B-t+"px":G.top=B+z-t+"px";E(u,G)},addButton:function(H){function G(){r.attr(u);s.attr(x)}var D=this,C=D.renderer,B=F(D.options.navigation.buttonOptions,H),A=B.onclick,z=B.menuItems,y=B.width,v=B.height,s,r,n,H=B.borderWidth,x={stroke:B.borderColor},u={stroke:B.symbolStroke,fill:B.symbolFill},t=B.symbolSize||12;if(!D.exportDivElements){D.exportDivElements=[],D.exportSVGElements=[]}B.enabled!==!1&&(s=C.rect(0,0,y,v,B.borderRadius,H).align(B,!0).attr(f({fill:B.backgroundColor,"stroke-width":H,zIndex:19},x)).add(),n=C.rect(0,0,y,v,0).align(B).attr({id:B._id,fill:"rgba(255, 255, 255, 0.001)",title:D.options.lang[B._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){r.attr({stroke:B.hoverSymbolStroke,fill:B.hoverSymbolFill});s.attr({stroke:B.hoverBorderColor})}).on("mouseout",G).on("click",G).add(),z&&(A=function(){G();var g=n.getBBox();D.contextMenu("export-menu",z,g.x,g.y,y,v)}),n.on("click",function(){A.apply(D,arguments)}),r=C.symbol(B.symbol,B.symbolX-t/2,B.symbolY-t/2,t,t).align(B,!0).attr(f(u,{"stroke-width":B.symbolStrokeWidth||1,zIndex:20})).add(),D.exportSVGElements.push(s,n,r))},destroyExport:function(){var h,g;for(h=0;h<this.exportSVGElements.length;h++){g=this.exportSVGElements[h],g.onclick=g.ontouchstart=null,this.exportSVGElements[h]=g.destroy()}for(h=0;h<this.exportDivElements.length;h++){g=this.exportDivElements[h],d(g,"mouseleave"),this.exportDivElements[h]=g.onmouseout=g.onmouseover=g.ontouchstart=g.onclick=null,w(g)}}});l.Renderer.prototype.symbols.exportIcon=function(h,g,n,k){return p(["M",h,g+n,"L",h+n,g+k,h+n,g+k*0.8,h,g+k*0.8,"Z","M",h+n*0.5,g+k*0.8,"L",h+n*0.8,g+k*0.4,h+n*0.4,g+k*0.4,h+n*0.4,g,h+n*0.6,g,h+n*0.6,g+k*0.4,h+n*0.2,g+k*0.4,"Z"])};l.Renderer.prototype.symbols.printIcon=function(h,g,n,k){return p(["M",h,g+k*0.7,"L",h+n,g+k*0.7,h+n,g+k*0.4,h,g+k*0.4,"Z","M",h+n*0.2,g+k*0.4,"L",h+n*0.2,g,h+n*0.8,g,h+n*0.8,g+k*0.4,"Z","M",h+n*0.2,g+k*0.7,"L",h,g+k,h+n,g+k,h+n*0.8,g+k*0.7,"Z"])};o.prototype.callbacks.push(function(h){var g,n=h.options.exporting,k=n.buttons;if(n.enabled!==!1){for(g in k){h.addButton(k[g])}m(h,"destroy",h.destroyExport)}})})();